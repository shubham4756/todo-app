{"ast":null,"code":"import _classCallCheck from \"D:/temp/frontend/todo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/temp/frontend/todo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:/temp/frontend/todo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/temp/frontend/todo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/temp/frontend/todo-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\temp\\\\frontend\\\\todo-app\\\\src\\\\components\\\\todo\\\\ListTodosComponent.jsx\";\nimport React, { Component } from 'react';\nimport TodoDataService from '../../api/todo/TodoDataService.js';\nimport AuthenticationService from './AuthenticationService.js';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ListTodosComponent = /*#__PURE__*/function (_Component) {\n  _inherits(ListTodosComponent, _Component);\n\n  var _super = _createSuper(ListTodosComponent);\n\n  function ListTodosComponent(props) {\n    var _this;\n\n    _classCallCheck(this, ListTodosComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      todos: [],\n      message: null\n    };\n    _this.deleteTodoClicked = _this.deleteTodoClicked.bind(_assertThisInitialized(_this));\n    _this.updateTodoClicked = _this.updateTodoClicked.bind(_assertThisInitialized(_this));\n    _this.addTodoClicked = _this.addTodoClicked.bind(_assertThisInitialized(_this));\n    _this.refreshTodos = _this.refreshTodos.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ListTodosComponent, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return true;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.refreshTodos();\n    }\n  }, {\n    key: \"refreshTodos\",\n    value: function refreshTodos() {\n      var _this2 = this;\n\n      var username = AuthenticationService.getLoggedInUserName();\n      TodoDataService.retrieveAllTodos(username).then(function (response) {\n        _this2.setState({\n          todos: response.data\n        });\n      });\n    }\n  }, {\n    key: \"deleteTodoClicked\",\n    value: function deleteTodoClicked(id) {\n      var _this3 = this;\n\n      var username = AuthenticationService.getLoggedInUserName();\n      TodoDataService.deleteTodo(username, id).then(function (response) {\n        _this3.setState({\n          message: \"Delete of todo \".concat(id, \" Successful\")\n        });\n\n        _this3.refreshTodos();\n      });\n    }\n  }, {\n    key: \"addTodoClicked\",\n    value: function addTodoClicked() {\n      this.props.history.push(\"/todos/-1\");\n    }\n  }, {\n    key: \"updateTodoClicked\",\n    value: function updateTodoClicked(id) {\n      this.props.history.push(\"/todos/\".concat(id));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"List Todos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 18\n        }, this), this.state.message && /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"alert alert-success\",\n          children: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Target Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.todos.map(function (todo) {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: todo.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 41\n                  }, _this4), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: todo.done.toString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 41\n                  }, _this4), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: moment(todo.targetDate).format('YYYY-MM-DD')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 41\n                  }, _this4), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-success\",\n                      onClick: function onClick() {\n                        return _this4.updateTodoClicked(todo.id);\n                      },\n                      children: \"Update\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 45\n                    }, _this4)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 41\n                  }, _this4), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-warning\",\n                      onClick: function onClick() {\n                        return _this4.deleteTodoClicked(todo.id);\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 45\n                    }, _this4)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 41\n                  }, _this4)]\n                }, todo.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, _this4);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success\",\n              onClick: this.addTodoClicked,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return ListTodosComponent;\n}(Component);\n\nexport default ListTodosComponent;","map":{"version":3,"sources":["D:/temp/frontend/todo-app/src/components/todo/ListTodosComponent.jsx"],"names":["React","Component","TodoDataService","AuthenticationService","moment","ListTodosComponent","props","state","todos","message","deleteTodoClicked","bind","updateTodoClicked","addTodoClicked","refreshTodos","nextProps","nextState","username","getLoggedInUserName","retrieveAllTodos","then","response","setState","data","id","deleteTodo","history","push","map","todo","description","done","toString","targetDate","format"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport TodoDataService from '../../api/todo/TodoDataService.js'\nimport AuthenticationService from './AuthenticationService.js'\nimport moment from 'moment'\n\nclass ListTodosComponent extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            todos : [],\n            message : null\n        }\n        this.deleteTodoClicked = this.deleteTodoClicked.bind(this)   \n        this.updateTodoClicked = this.updateTodoClicked.bind(this)   \n        this.addTodoClicked = this.addTodoClicked.bind(this)\n        this.refreshTodos = this.refreshTodos.bind(this)\n    }\n    \n    shouldComponentUpdate(nextProps, nextState) {\n        return true\n    }\n\n    componentDidMount() {\n        this.refreshTodos();\n    }\n\n    refreshTodos() {\n        let username = AuthenticationService.getLoggedInUserName()\n        TodoDataService.retrieveAllTodos(username)\n          .then(\n              response => {\n                  this.setState({todos : response.data})\n              }\n          ) \n    }\n\n    deleteTodoClicked(id) {\n        let username = AuthenticationService.getLoggedInUserName()\n        TodoDataService.deleteTodo(username, id)\n         .then (\n             response => {\n                this.setState({message : `Delete of todo ${id} Successful`})\n                this.refreshTodos()\n             }\n         )  \n    }\n\n    addTodoClicked() {\n        this.props.history.push(`/todos/-1`)\n    }\n\n    updateTodoClicked(id) {\n        this.props.history.push(`/todos/${id}`)\n    }\n\n    render() {\n        return (\n            <div>\n                 <h1>List Todos</h1>\n                 {this.state.message && <div class=\"alert alert-success\">{this.state.message}</div>}\n                 <div className=\"container\">\n                    <table className=\"table\">\n                        <thead>\n                            <tr>\n                                <th>Description</th>\n                                <th>Target Date</th>\n                                <th>Update</th>\n                                <th>Delete</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            this.state.todos.map (\n                                todo =>\n                                    <tr key={todo.id}>\n                                        <td>{todo.description}</td>\n                                        <td>{todo.done.toString()}</td>\n                                        <td>{moment(todo.targetDate).format('YYYY-MM-DD')}</td>\n                                        <td><button className=\"btn btn-success\" onClick={() => this.updateTodoClicked(todo.id)}>Update</button></td>\n                                        <td><button className=\"btn btn-warning\" onClick={() => this.deleteTodoClicked(todo.id)}>Delete</button></td>\n                                    </tr>\n                            )\n                            }\n                        </tbody>\n                    </table>\n                    <div className=\"row\">\n                        <button className=\"btn btn-success\" onClick={this.addTodoClicked}>Add</button>\n                    </div>\n                 </div>\n            </div>\n        )\n    }\n}\n\nexport default ListTodosComponent"]},"metadata":{},"sourceType":"module"}